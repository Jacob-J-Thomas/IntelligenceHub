name: Check Bicep Installation

on:
  workflow_dispatch: # Trigger manually for testing

jobs:
  check-bicep:
    runs-on: ubuntu-latest # Use a GitHub-hosted runner
    steps:
      # Step 1: Checkout the repository (optional for this test)
      - name: Checkout Code
        uses: actions/checkout@v3

      # Step 2: Install Azure CLI (includes Bicep)
      - name: Install Azure CLI
        uses: azure/CLI@v1
        with:
          azcliversion: latest

      # Step 3: Check Bicep Version
      - name: Check Bicep Installation
        run: |
          az bicep version || echo "Bicep is not installed"
